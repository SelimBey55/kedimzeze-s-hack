local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "kedimzeze's Hack GUI",
    LoadingTitle = "Loading..",
    LoadingSubtitle = "By kedimzeze",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "ZezeHacks",
        FileName = "Config"
    }
})

local Player = game:GetService("Players").LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Camera = game:GetService("Workspace").CurrentCamera

local FlySpeed = 50
local WalkSpeed = 50
local IsFlying = false
local FlyConnection
local InfiniteJumpEnabled = false
local ESPEnabled = false
local SpinEnabled = false
local SpinSpeed = 5
local NoClipEnabled = false
local FreecamEnabled = false
local FreecamSpeed = 2
local FreecamConn
local FreecamCF = CFrame.new()

-- FLY
local function StartFlying()
    if not IsFlying then
        IsFlying = true
        local Character = Player.Character
        if not Character then return end
        local HRP = Character:FindFirstChild("HumanoidRootPart")
        if not HRP then return end

        local Attachment = Instance.new("Attachment", HRP)

        local LV = Instance.new("LinearVelocity")
        LV.MaxForce = math.huge
        LV.VectorVelocity = Vector3.zero
        LV.Attachment0 = Attachment
        LV.Parent = HRP

        local AO = Instance.new("AlignOrientation")
        AO.Mode = Enum.OrientationAlignmentMode.OneAttachment
        AO.Attachment0 = Attachment
        AO.MaxTorque = math.huge
        AO.Responsiveness = 200
        AO.Parent = HRP

        FlyConnection = RunService.RenderStepped:Connect(function()
            if not IsFlying or not HRP then return end
            local camCF = Camera.CFrame
            local move = Vector3.zero

            if UserInputService:IsKeyDown(Enum.KeyCode.W) then move += camCF.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then move -= camCF.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then move -= camCF.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then move += camCF.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then move += Vector3.yAxis end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then move -= Vector3.yAxis end

            if move.Magnitude > 0 then move = move.Unit * FlySpeed end

            LV.VectorVelocity = LV.VectorVelocity:Lerp(move, 0.2)
            AO.CFrame = CFrame.lookAt(HRP.Position, HRP.Position + camCF.LookVector, Vector3.yAxis)
        end)
    end
end

local function StopFlying()
    if IsFlying then
        IsFlying = false
        if FlyConnection then FlyConnection:Disconnect() FlyConnection = nil end
        local HRP = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if HRP then
            for _,v in ipairs(HRP:GetChildren()) do
                if v:IsA("LinearVelocity") or v:IsA("AlignOrientation") or v:IsA("Attachment") then
                    v:Destroy()
                end
            end
        end
    end
end

-- SPEED
local function SetSpeed(speed)
    local Character = Player.Character
    if Character then
        local Humanoid = Character:FindFirstChild("Humanoid")
        if Humanoid then
            Humanoid.WalkSpeed = speed
        end
    end
end

-- INFINITE JUMP
UserInputService.JumpRequest:Connect(function()
    if InfiniteJumpEnabled then
        local Character = Player.Character
        if Character then
            local Humanoid = Character:FindFirstChild("Humanoid")
            if Humanoid then
                Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end
    end
end)

-- ESP
local function AddESP(player)
    if player ~= Player and player.Character then
        local highlight = Instance.new("Highlight")
        highlight.FillColor = Color3.new(1, 0, 0)
        highlight.OutlineColor = Color3.new(1, 1, 1)
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.Parent = player.Character
        highlight.Adornee = player.Character
    end
end

local function ToggleESP(enabled)
    ESPEnabled = enabled
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= Player and player.Character then
            for _, obj in pairs(player.Character:GetChildren()) do
                if obj:IsA("Highlight") then obj:Destroy() end
            end
            if ESPEnabled then AddESP(player) end
        end
    end
end

game.Players.PlayerAdded:Connect(function(player)
    if ESPEnabled then
        player.CharacterAdded:Connect(function()
            AddESP(player)
        end)
    end
end)

-- SPIN
RunService.RenderStepped:Connect(function()
    if SpinEnabled and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
        Player.Character.HumanoidRootPart.CFrame =
            Player.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(SpinSpeed), 0)
    end
end)

-- NOCLIP
RunService.Stepped:Connect(function()
    if NoClipEnabled and Player.Character then
        for _, part in pairs(Player.Character:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
                part.CanCollide = false
            end
        end
    end
end)

-- FREECAM
local function StartFreecam()
    if FreecamEnabled then return end
    FreecamEnabled = true
    FreecamCF = Camera.CFrame
    FreecamConn = RunService.RenderStepped:Connect(function()
        local move = Vector3.zero
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then move += Camera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then move -= Camera.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then move -= Camera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then move += Camera.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then move += Vector3.yAxis end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then move -= Vector3.yAxis end

        FreecamCF = FreecamCF + move * FreecamSpeed
        Camera.CFrame = FreecamCF
    end)
end

local function StopFreecam()
    if FreecamEnabled then
        FreecamEnabled = false
        if FreecamConn then FreecamConn:Disconnect() FreecamConn = nil end
    end
end

-- GUI
local MainTab = Window:CreateTab("Kontroller", 4483362458)

MainTab:CreateToggle({Name = "Uçuş", CurrentValue = false, Callback = function(v) if v then StartFlying() else StopFlying() end end})
MainTab:CreateToggle({Name = "Sınırsız Zıplama", CurrentValue = false, Callback = function(v) InfiniteJumpEnabled = v end})
MainTab:CreateToggle({Name = "ESP (Duvar Arkası)", CurrentValue = false, Callback = function(v) ToggleESP(v) end})
MainTab:CreateToggle({Name = "Spin (Dönme)", CurrentValue = false, Callback = function(v) SpinEnabled = v end})
MainTab:CreateToggle({Name = "NoClip", CurrentValue = false, Callback = function(v) NoClipEnabled = v end})
MainTab:CreateToggle({Name = "Freecam", CurrentValue = false, Callback = function(v) if v then StartFreecam() else StopFreecam() end end})

MainTab:CreateSlider({Name = "Yürüme Hızı", Range = {16, 100}, Increment = 1, CurrentValue = 50, Callback = function(v) WalkSpeed = v SetSpeed(WalkSpeed) end})
MainTab:CreateSlider({Name = "Uçuş Hızı", Range = {10, 150}, Increment = 1, CurrentValue = 50, Callback = function(v) FlySpeed = v end})
MainTab:CreateSlider({Name = "Spin Hızı", Range = {1, 50}, Increment = 1, CurrentValue = 5, Callback = function(v) SpinSpeed = v end})
MainTab:CreateSlider({Name = "Freecam Hızı", Range = {1, 20}, Increment = 1, CurrentValue = 2, Callback = function(v) FreecamSpeed = v end})

if Player.Character then SetSpeed(WalkSpeed) end
Player.CharacterAdded:Connect(function() SetSpeed(WalkSpeed) end)
